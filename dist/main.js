(()=>{"use strict";const e=document.querySelector(".create"),t=(document.querySelector(".todos"),document.querySelector(".popup")),o=document.querySelector(".postTodo"),n=(document.querySelector(".form"),document.querySelector(".titleinp")),i=document.querySelector(".descriptioninp"),c=document.querySelector(".dueinp"),d=document.querySelector(".priorinp"),l=document.querySelector(".todos");class s{constructor(e,t,o,n){this.title=e,this.description=t,this.dueDate=o,this.priority=n}}e.addEventListener("click",(function(){t.style.display="block"})),o.addEventListener("click",(function(e){e.preventDefault();const o=n.value,a=i.value,u=c.value,p=d.value;let m=new s(o,a,u,p);t.style.display="none";const S=document.createElement("div");S.classList.add("postedList");const y=document.createElement("p"),L=document.createElement("button");y.classList.add("listInfo"),y.textContent=`Title: ${m.title} \n Description: ${m.description} \n Due date: ${m.dueDate} \n Priority: ${m.priority} \n`,S.appendChild(y),l.appendChild(S),r.push(m),L.classList.add("delete"),L.textContent="X",L.addEventListener("click",(()=>{L.parentElement.remove(S),r.splice(r.indexOf(m),1),localStorage.setItem("todoList",JSON.stringify(r))})),S.appendChild(L),localStorage.setItem("todoList",JSON.stringify(r)),console.log(JSON.parse(localStorage.getItem("todoList")))}));let r=localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):[];null!==localStorage.getItem("todoList")&&r.forEach((function(e){const t=document.createElement("div");t.classList.add("postedList");const o=document.createElement("p"),n=document.createElement("button");o.classList.add("listInfo"),o.textContent=`Title: ${e.title} \n Description: ${e.description} \n Due date: ${e.dueDate} \n Priority: ${e.priority} \n`,t.appendChild(o),l.appendChild(t),n.classList.add("delete"),n.textContent="X",n.addEventListener("click",(()=>{n.parentElement.remove(t),r.splice(r.indexOf(e),1),localStorage.setItem("todoList",JSON.stringify(r))})),t.appendChild(n),localStorage.setItem("todoList",JSON.stringify(r))}))})();